# 0.0.1: Tue 09 Sep 2025 20:10:40 AEST
# Initial structure
# 0.0.2: Tue 09 Sep 2025 22:31:34 AEST
# Added options code
# 0.0.3: Tue 09 Sep 2025 22:36:22 AEST
# Added actions code
# 0.0.4: Tue 09 Sep 2025 22:37:21 AEST
# Added install script generation code
# 0.0.5: Tue 09 Sep 2025 22:46:12 AEST
# Added nix ISO configuration generation code
# 0.0.6: Tue 09 Sep 2025 22:58:33 AEST
# Initial documentation
# 0.0.7: Tue 09 Sep 2025 23:14:33 AEST
# Added shellcheck switch
# 0.0.8: Wed 10 Sep 2025 00:01:04 AEST
# Improved usage output 
# 0.0.9: Wed 10 Sep 2025 00:40:22 AEST
# Added mask switch
# 0.1.0: Wed 10 Sep 2025 12:10:13 AEST
# Updated EOF tokens
# 0.1.1: Wed 10 Sep 2025 12:31:13 AEST
# Fixed switches
# 0.1.2: Wed 10 Sep 2025 13:25:06 AEST
# Added switches for ZFS script
# 0.1.4: Wed 10 Sep 2025 14:38:14 AEST
# Updated options
# 0.1.5: Wed 10 Sep 2025 17:51:39 AEST
# Added ZFS install script creation framework
# 0.1.6: Wed 10 Sep 2025 18:22:36 AEST
# Added GECOS switch
# 0.1.7: Wed 10 Sep 2025 19:20:23 AEST
# Added more to ZFS install script
# 0.1.8: Thu 11 Sep 2025 13:20:33 AEST
# Added attended option to disable unattended install for testing
# 0.1.9: Thu 11 Sep 2025 14:04:22 AEST
# Fixed ISO contents source setting
# 0.2.0: Thu 11 Sep 2025 15:25:58 AEST
# Added reboot option
# 0.2.1: Thu 11 Sep 2025 17:52:18 AEST
# Improvements to zfs install script
# 0.2.2: Fri 12 Sep 2025 11:34:14 AEST
# Updated ZFS install script
# 0.2.3: Sat 13 Sep 2025 14:34:30 AEST
# Added additional switches for config
# 0.2.4: Sat 13 Sep 2025 15:22:09 AEST
# Added static network option
# 0.2.5: Sat 13 Sep 2025 15:50:54 AEST
# Updates to ZFS file
# 0.2.6: Sat 13 Sep 2025 17:40:49 AEST
# Fixed determination of output file
# 0.2.7: Sat 13 Sep 2025 19:40:11 AEST
# Updated ISO imports
# 0.2.8: Sun 14 Sep 2025 11:22:05 AEST
# Added start of standalone support
# 0.2.9: Sun 14 Sep 2025 15:32:01 AEST
# Set user shell to zsh
# 0.3.0: Mon 15 Sep 2025 13:31:21 AEST
# Added code to get password crypts
# 0.3.1: Tue 16 Sep 2025 10:59:33 AEST
# Updated and fixed install script
# 0.3.2: Wed 17 Sep 2025 14:15:18 AEST
# Added filesystem switch
# 0.3.3: Wed 17 Sep 2025 15:21:14 AEST
# Added firmware switch
# 0.3.4: Wed 17 Sep 2025 21:34:34 AEST
# Added initial ext4 support
# 0.3.5: Wed 17 Sep 2025 22:42:31 AEST
# Added switches for volume names
# 0.3.6: Wed 17 Sep 2025 23:28:54 AEST
# Added more ext4 support
# 0.3.7: Thu 18 Sep 2025 00:39:12 AEST
# Bug fixes
# 0.3.8: Thu 18 Sep 2025 08:53:51 AEST
# More ext4 script updates
# 0.3.9: Thu 18 Sep 2025 10:39:37 AEST
# Fixed ISO output
# 0.4.0: Thu 18 Sep 2025 12:03:55 AEST
# Updated install script
# 0.4.1: Thu 18 Sep 2025 12:11:52 AEST
# Fixed disk partitioning for ext4 install in UEFI mode
# 0.4.2: Thu 18 Sep 2025 12:35:06 AEST
# Fixed disk UUID determination
# 0.4.3: Thu 18 Sep 2025 14:40:40 AEST
# Fixed user password crypt
# 0.4.4: Thu 18 Sep 2025 15:30:14 AEST
# More fixes
# 0.4.5: Thu 18 Sep 2025 16:36:04 AEST
# Added partprobe and sleep to ext4 install script
# 0.4.6: Thu 18 Sep 2025 20:18:13 AEST
# Fixed swap size bug in ZFS install script
# 0.4.7: Fri 19 Sep 2025 00:01:08 AEST
# Fixed ZFS install script
# 0.4.8: Fri 19 Sep 2025 01:10:50 AEST
# Set ZFS to default filesystem
# 0.4.9: Fri 19 Sep 2025 01:18:03 AEST
# Fixed user/root hashed password creation
# 0.5.0: Fri 19 Sep 2025 01:37:38 AEST
# Documentation updates
# 0.5.1: Fri 19 Sep 2025 01:54:30 AEST
# Fixed install command
# 0.5.2: Fri 19 Sep 2025 02:00:44 AEST
# Fixed imports
# 0.5.1: Fri 19 Sep 2025 02:11:07 AEST
# Added standalone switch
# 0.5.2: Sat 20 Sep 2025 21:40:28 AEST
# Added standalone script to aid in testing
# 0.5.3: Sat 20 Sep 2025 22:29:08 AEST
# Switch cleanup
# 0.5.4: Sat 20 Sep 2025 22:30:52 AEST
# Consolidated and renamed install scripts
# 0.5.5: Sat 20 Sep 2025 23:18:23 AEST
# Updated options
# 0.5.6: Sun 21 Sep 2025 00:49:30 AEST
# Cleaned up optioons and switches
# 0.5.7: Sun 21 Sep 2025 01:08:10 AEST
# Updated documentation
# 0.5.8: Sun 21 Sep 2025 02:17:01 AEST
# More documentation updates
# 0.5.9: Sun 21 Sep 2025 02:33:03 AEST
# Ran shellcheck
# 0.6.0: Sun 21 Sep 2025 02:57:01 AEST
# Bug fixes
# 0.6.1: Sun 21 Sep 2025 02:59:28 AEST
# Reintegrated standalone script findings into main code
# 0.6.2: Sun 21 Sep 2025 03:35:23 AEST
# Bug fixes
# 0.6.3: Sun 21 Sep 2025 03:48:19 AEST
# Fixed first disk determination
# 0.6.4: Sun 21 Sep 2025 04:12:36 AEST
# Fixed boot partition size
# 0.6.5: Sun 21 Sep 2025 04:13:18 AEST
# Fixed log directory/file creation
# 0.6.6: Sun 21 Sep 2025 10:56:21 AEST
# Added code to preserve ISO
# 0.6.7: Sun 21 Sep 2025 11:14:31 AEST
# Updated documentation
# 0.6.8: Sun 21 Sep 2025 11:22:23 AEST
# Improved options processing
# 0.6.9: Sun 21 Sep 2025 15:03:06 AEST
# Added gfxmode switch
# 0.7.0: Mon 22 Sep 2025 17:14:22 AEST
# Updated install script to allow grub parameters to be parsed to installer
# 0.7.1: Mon 22 Sep 2025 17:16:56 AEST
# Added new standalone installer script
# 0.7.2: Mon 22 Sep 2025 17:20:09 AEST
# Updated documentation
# 0.7.3: Mon 22 Sep 2025 17:30:28 AEST
# Updated oneshot service
# 0.7.4: Mon 22 Sep 2025 17:44:26 AEST
# Added nooneshot switch
# 0.7.5: Tue 23 Sep 2025 17:33:59 AEST
# Added intial code to create vm
# 0.7.6: Tue 23 Sep 2025 17:40:09 AEST
# Improved mask function
# 0.7.7: Tue 23 Sep 2025 17:41:29 AEST
# Updated documentation
# 0.7.8: Tue 23 Sep 2025 17:52:38 AEST
# Added noautoconsole switch
# 0.7.9: Tue 23 Sep 2025 18:32:00 AEST
# Added grub extraargs
# 0.8.0: Tue 23 Sep 2025 19:47:19 AEST
# Added serial support
# 0.8.1: Tue 23 Sep 2025 20:38:05 AEST
# Added imports for system build
# 0.8.2: Tue 23 Sep 2025 21:06:25 AEST
# Fixed escaping of kernelparams
# 0.8.3: Tue 23 Sep 2025 21:14:50 AEST
# Fixed VM deletion
# 0.8.4: Tue 23 Sep 2025 23:05:58 AEST
# Improved VM creation
# 0.8.5: Tue 23 Sep 2025 23:17:10 AEST
# Updated documentation
# 0.8.6: Wed 24 Sep 2025 09:59:43 AEST
# Added kernel parameter
# 0.8.7: Wed 24 Sep 2025 10:26:06 AEST
# Added sshpasswordauthentication parameter
# 0.8.8: Wed 24 Sep 2025 10:57:25 AEST
# Added allowtcpports and allowudpports parameters
# 0.8.9: Wed 24 Sep 2025 12:27:38 AEST
# Added import switch to load external Nix configuration file for system build
# 0.9.0: Wed 24 Sep 2025 12:43:00 AEST
# Added security packages to default package list
# 0.9.1: Wed 24 Sep 2025 12:50:57 AEST
# Added isoimport to load external Nix configuration file for ISO build
# 0.9.2: Wed 24 Sep 2025 13:12:04 AEST
# Added example security config as importable nix file
# 0.9.3: Wed 24 Sep 2025 13:27:05 AEST
# Updated documentation
# 0.9.4: Wed 24 Sep 2025 18:11:54 AEST
# Security updates
# 0.9.5: Wed 24 Sep 2025 19:36:51 AEST
# Updated OpenSSH PasswordAuthentication
# 0.9.6: Wed 24 Sep 2025 22:34:49 AEST
# Added code to check docker image
# 0.9.7: Thu 25 Sep 2025 14:48:32 AEST
# Fixed nix check
# 0.9.8: Thu 25 Sep 2025 15:02:25 AEST
# Fixed ISO config file creation for docker
# 0.9.9: Thu 25 Sep 2025 15:11:59 AEST
# Added code to create ISO using docker 
# 1.0.0: Thu 25 Sep 2025 16:28:43 AEST
# Fixes based on shellcheck
# 1.0.1: Thu 25 Sep 2025 16:32:12 AEST
# Updated documentation
# 1.0.2: Thu 25 Sep 2025 20:03:01 AEST
# Added support for creating VMs on MacOS
# 1.0.3: Thu 25 Sep 2025 21:17:54 AEST
# Added support for other host platform architectures
# 1.0.4: Thu 25 Sep 2025 21:41:43 AEST
# Updated grub config in Nix configs
# 1.0.5: Fri 26 Sep 2025 09:13:03 AEST
# Improved output file naming for docker ISO creation
# 1.0.6: Fri 26 Sep 2025 11:40:38 AEST
# Added code to add/remove ISO from VM
# 1.0.7: Fri 26 Sep 2025 14:29:02 AEST
# Added code to set boot device
# 1.0.8: Fri 26 Sep 2025 14:30:05 AEST
# Added code to stop/start and console to VM
# 1.0.9: Fri 26 Sep 2025 19:19:20 AEST
# Revised code to alter boot device and add/remove CDROM due to issues with libvirt
# 1.1.0: Fri 26 Sep 2025 21:17:41 AEST
# Added system packages config to system build
# 1.1.1: Sat 27 Sep 2025 05:48:43 AEST
# Updated docker ISO creation script
# 1.1.2: Sat 27 Sep 2025 12:20:49 AEST
# Updated ISO file determination for MacOS
# 1.1.3: Sat 27 Sep 2025 22:44:24 AEST
# Cleaned up formatting of parameters
# 1.1.4: Mon 29 Sep 2025 17:53:51 AEST
# Improved how parameters are declared and passed to grub and install script
# 1.1.5: Mon 29 Sep 2025 18:06:12 AEST
# Fixed issue with creation of oneshot script
# 1.1.6: Mon 29 Sep 2025 20:40:07 AEST
# Added security kernel parameters
# 1.1.7: Tue 30 Sep 2025 10:16:40 AEST
# Added sysctl parameters
# 1.1.8: Tue 30 Sep 2025 17:16:43 AEST
# Added secure switch
# 1.1.9: Tue 30 Sep 2025 17:28:54 AEST
# Fixed kernelparams escaping
# 1.2.0: Tue 30 Sep 2025 17:48:10 AEST
# Fixed virsh device update on Linux
# 1.2.1: Tue 30 Sep 2025 18:32:15 AEST
# Added auditing
# 1.2.2: Tue 30 Sep 2025 20:58:16 AEST
# Cleaned up formatting
# 1.2.3: Wed 01 Oct 2025 14:19:36 AEST
# Added more SSH and fail2ban support
# 1.2.4: Wed 01 Oct 2025 17:05:55 AEST
# Added additional security parameters
# 1.2.5: Wed 01 Oct 2025 17:49:23 AEST
# Added systemd parameters
# 1.2.6: Wed 01 Oct 2025 21:38:26 AEST
# Added security to ISO build
# 1.2.7: Wed 01 Oct 2025 22:28:31 AEST
# Updated documentation
# 1.2.8: Thu 02 Oct 2025 13:07:08 AEST
# Fixed imports declaration
# 1.2.9: Thu 02 Oct 2025 13:22:44 AEST
# Added switch to use preserved ISO
# 1.3.0: Thu 02 Oct 2025 14:59:00 AEST
# Updated auditd config
# 1.3.1: Fri 03 Oct 2025 13:40:28 AEST
# Fixed allowusers determination when username is not default
# 1.3.2: Fri 03 Oct 2025 14:01:40 AEST
# Fixed formatting
# 1.3.3: Fri 03 Oct 2025 14:35:18 AEST
# Fixed firewall flag
# 1.3.4: Fri 03 Oct 2025 15:03:54 AEST
# Fixed formatting
# 1.3.5: Fri 03 Oct 2025 17:05:43 AEST
# Fixed bridge specification in install script
# 1.3.6: Fri 03 Oct 2025 20:32:24 AEST
# Added installuser switch
# 1.3.7: Fri 03 Oct 2025 20:50:46 AEST
# Added stanza to initialize .zshrc
# 1.3.8: Sat 04 Oct 2025 15:53:39 AEST
# Tweaks to output file name
# 1.3.9: Sat 04 Oct 2025 21:08:24 AEST
# Added wait for link to come up
# 1.4.0: Sun 05 Oct 2025 15:15:40 AEDT
# Added fwupd to packages and services
# 1.4.1: Sun 05 Oct 2025 22:52:00 AEDT
# Improvements for NVMe installs
# 1.4.2: Mon  6 Oct 2025 00:03:05 AEDT
# Updates to install script
# 1.4.3: Mon 06 Oct 2025 13:22:28 AEDT
# Updates to install script
# 1.4.4: Wed 08 Oct 2025 01:27:35 AEDT
# Updated package list
# 1.4.5: Wed 08 Oct 2025 01:32:19 AEDT
# Added initrd kernel modules
# 1.4.6: Wed 08 Oct 2025 14:03:27 AEDT
# Improved serial support
# 1.4.7: Wed 08 Oct 2025 14:48:24 AEDT
# Improved kernel package code
# 1.4.8: Wed 08 Oct 2025 17:30:13 AEDT
# Cleaned up ISO nix file creation
# 1.4.9: Wed 08 Oct 2025 18:20:00 AEDT
# Cleaned up grub parameters
# 1.5.0: Thu 09 Oct 2025 10:12:17 AEDT
# Improved kernel parameters handling
# 1.5.1: Thu 09 Oct 2025 14:05:28 AEDT
# Updated install script
# 1.5.2: Thu 09 Oct 2025 16:54:15 AEDT
# Added journald options
# 1.5.3: Thu 09 Oct 2025 20:34:18 AEDT
# Added logrotate switch
# 1.5.4: Thu 09 Oct 2025 22:02:02 AEDT
# Added unstable switch
# 1.5.5: Fri 10 Oct 2025 15:03:42 AEDT
# Bug fixes
# 1.5.6: Fri 10 Oct 2025 15:24:12 AEDT
# Decreased number of parameters parsed through grub
# 1.5.7: Fri 10 Oct 2025 17:00:11 AEDT
# Install script fix
# 1.5.8: Fri 10 Oct 2025 17:03:49 AEDT
# Improved rootfs handling
# 1.5.9: Fri 10 Oct 2025 20:04:41 AEDT
# Added serialtty switch
# 1.6.0: Fri 10 Oct 2025 20:49:52 AEDT
# Fixed typos in install script
# 1.6.1: Fri 10 Oct 2025 21:02:20 AEDT
# Updated file name gerneration
# 1.6.2: Sat 11 Oct 2025 00:30:42 AEDT
# Added interactive question mode
# 1.6.3: Sat 11 Oct 2025 00:37:16 AEDT
# Updated install script
# 1.6.4: Sat 11 Oct 2025 17:32:14 AEDT
# Improved usage function
